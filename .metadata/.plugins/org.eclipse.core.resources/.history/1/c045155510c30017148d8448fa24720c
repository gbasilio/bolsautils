package br.gustavo.general;

import java.io.InputStream;
import java.net.URL;
import java.util.Random;

public class DownloadInformacoesTESTE {

	// Ibrx50
//	private static String[] cods = {"BISA3",
//		"GOLL4",
//		"RSID3",
//		"ELPL4",
//		"MMXM3",
//		"GFSA3",
//		"SUZB5",
//		"MRFG3",
//		"PDGR3",
//		"MRVE3",
//		"ALLL3",
//		"BRKM5",
//		"DASA3",
//		"CSAN3",
//		"FIBR3",
//		"RENT3",
//		"CYRE3",
//		"CTIP3",
//		"OIBR4",
//		"OGXP3",
//		"HYPE3",
//		"USIM5",
//		"HGTX3",
//		"TIMP3",
//		"GOAU4",
//		"BRAP4",
//		"LAME4",
//		"CSNA3",
//		"JBSS3",
//		"NATU3",
//		"LREN3",
//		"CRUZ3",
//		"CMIG4",
//		"BRML3",
//		"VIVT4",
//		"SANB11",
//		"CIEL3",
//		"CCRO3",
//		"GGBR4",
//		"BBAS3",
//		"BRFS3",
//		"ITSA4",
//		"BVMF3",
//		"VALE3",
//		"PETR3",
//		"BBDC4",
//		"AMBV4",
//		"VALE5",
//	"ITUB4"};


	// SMLL
//	private static String[] cods = {"MNDL3",
//		"POSI3",
//		"CCXC3",
//		"LUPA3",
//		"BICB4",
//		"BEEF3",
//		"LLIS3",
//		"ABCB4",
//		"LLXL3",
//		"TCSA3",
//		"OSXB3",
//		"MGLU3",
//		"BBRK3",
//		"TERI3",
//		"VAGR3",
//		"BPNM4",
//		"TGMA3",
//		"SLCE3",
//		"BISA3",
//		"EQTL3",
//		"BTOW3",
//		"GOLL4",
//		"JHSF3",
//		"COCE5",
//		"HBOR3",
//		"RSID3",
//		"LEVE3",
//		"BRIN3",
//		"QGEP3",
//		"GRND3",
//		"FLRY3",
//		"STBP11",
//		"CGAS5",
//		"PMAM3",
//		"ELPL4",
//		"MMXM3",
//		"MAGG3",
//		"EZTC3",
//		"RAPT4",
//		"HRTP3",
//		"AMAR3",
//		"EVEN3",
//		"ARZZ3",
//		"LPSB3",
//		"MYPK3",
//		"GFSA3",
//		"ALSC3",
//		"SULA11",
//		"IGTA3",
//		"ALPA4",
//		"SUZB5",
//		"VLID3",
//		"MRFG3",
//		"LIGT3",
//		"MILS3",
//		"ESTC3",
//		"OHLB3",
//		"CSMG3",
//		"ODPV3",
//		"BRSR6",
//		"ENBR3",
//		"QUAL3",
//		"PDGR3",
//		"MRVE3",
//		"POMO4",
//		"DASA3",
//		"AEDU3",
//		"TOTS3",
//	"KROT11"};

	
	// ibrx
	private static String[] cods = {
	"AEDU3",
	"ALLL3",
	"AMBV3",
	"AMBV4",
	"AMIL3",
	"BBAS3",
	"BBDC3",
	"BBDC4",
	"BBRK3",
	"BISA3",
	"BRAP4",
	"BRFS3",
	"BRKM5",
	"BRML3",
	"BRPR3",
	"BRSR6",
	"BTOW3",
	"BVMF3",
	"CCRO3",
	"CCXC3",
	"CESP6",
	"CIEL3",
	"CMIG4",
	"CPFE3",
	"CPLE6",
	"CRUZ3",
	"CSAN3",
	"CSMG3",
	"CSNA3",
	"CTIP3",
	"CYRE3",
	"DASA3",
	"DTEX3",
	"ECOR3",
	"ELET3",
	"ELET6",
	"ELPL4",
	"EMBR3",
	"ENBR3",
	"EZTC3",
	"FIBR3",
	"GETI4",
	"GFSA3",
	"GGBR4",
	"GOAU4",
	"GOLL4",
	"HGTX3",
	"HRTP3",
	"HYPE3",
	"IGTA3",
	"ITSA4",
	"ITUB4",
	"JBSS3",
	"KLBN4",
	"LAME4",
	"LIGT3",
	"LLXL3",
	"LREN3",
	"MGLU3",
	"MMXM3",
	"MPLU3",
	"MPXE3",
	"MRFG3",
	"MRVE3",
	"MULT3",
	"MYPK3",
	"NATU3",
	"ODPV3",
	"OGXP3",
	"OHLB3",
	"OIBR3",
	"OIBR4",
	"OSXB3",
	"PCAR4",
	"PDGR3",
	"PETR3",
	"PETR4",
	"POMO4",
	"PSSA3",
	"QGEP3",
	"RADL3",
	"RAPT4",
	"RENT3",
	"RSID3",
	"SANB11",
	"SBSP3",
	"SULA11",
	"SUZB5",
	"TBLE3",
	"TCSA3",
	"TIMP3",
	"TOTS3",
	"TRPL4",
	"UGPA3",
	"USIM3",
	"USIM5",
	"VAGR3",
	"VALE3",
	"VALE5",
	"VIVT4",
	"HBOR3",
	"DIRR3",
	"EVEN3",
	"BRIN3"
		};

	public static void main(String[] args) throws Exception{
		// http://www.infomoney.com.br/Pages/Download/Download.aspx?dtIni=null&dtFinish=null&Ativo=BRKM5&Semana=null&Per=12&type=1&Stock=BRKM5&StockType=1

		for (int i = 0; i < cods.length; i++){
			String infoURL = "http://www.infomoney.com.br/Pages/Download/Download.aspx?dtIni=null&dtFinish=null&Ativo=" + cods[i] + "&Semana=null&Per=6&type=1&Stock=" + cods[i] + "&StockType=1";
			URL url = new URL(infoURL);
			InputStream in = (InputStream)url.getContent();

			java.io.FileOutputStream fos = new java.io.FileOutputStream("/home/gbasilio/Desktop/historicos_infomoney/" + cods[i] + ".xls");

			byte[] buffer = new byte[2048];
			int bytesRead = in.read(buffer);
			while (bytesRead > 0){
				fos.write(buffer, 0, bytesRead);
				bytesRead = in.read(buffer);
			}

			System.out.println("Hist√≥rico para " + cods[i] + " baixado!");
			Thread.sleep(9000 + (new Random()).nextInt(12000));
		}
	}


}
